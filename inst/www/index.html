<!doctype html>
<html>
    <head>
        <title>Home</title>
        <link
            rel="stylesheet"
            href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./css/style.css" />
    </head>

    <body>
        <div id="mask"></div>
        <h1>ggfigdone [Making ggplot figure done quickly]</h1>

        <div id="img_grid_option">
            <div class="option_container">
                <!--Add button to switch between order figure by name or update date-->
                <button id="btn_order_name" class="tablinks tab_active" title="Order by figure name">Order by Name</button>
                <button id="btn_order_date" class="tablinks" title="Order by update date">Order by Updated Date</button>
            </div>
            <div class="option_container">
                <button id="btn_refresh" title="Refresh the figure list.">Refresh</button>
            </div>
        </div>

        <div id="img_grid_container"></div>

        <div id="img_edit_container">
            <button class="btn_close" title="Lazy way: Clicking grey area or using Esc">Close</button>
            <div id="img_canvas"></div>

            <div id="edit_tools">

                <h2 id="et_figure_name"></h2>
                <div id="div_update_buttons">
                    <button class="btn_download_data" onclick="downloadData()" title="Download the data as CSV.">Download Data</button>
                    <button class="btn_download_pdf" onclick="downloadPDF()" title="Download the figure as PDF.">Download PDF</button>
                    <button class="btn_change_name" onclick="changeFigureName()" title="Change the figure name.">Change Name</button>
                    <button class="btn_delete" onclick="deleteFigure()" title="Remove figure. NOT reversible!">Delete</button>
                </div>
                <p>ID: <span id="et_figure_id"></span></p>
                <p>Create date: <span id="et_create_date"></span></p>
                <p>Update date: <span id="et_update_date"></span></p>


                <hr>

                <div class="tab_button_container">
                    <button id="bt_ggplot" class="tablinks tab_active" title="Update ggplot by editing the code.">Update ggplot code</button>
                    <button id="bt_canvas" class="tablinks" title="Update figure canvas size.">Update Canvas</button>
                    <button id="bt_data" class="tablinks" title="View the dataset">Dataset structure</button>
                </div>


                <div id = "tab_canvas" class="tab_container">
                    <div class="et_options_h3"> 
                        <table>
                            <tr>
                                <td>Units:</td>
                                <td>
                                    <select id="fig_size_units">
                                        <option value="px">px</option>
                                        <option value="in">in</option>
                                        <option value="cm">cm</option>
                                        <option value="mm">mm</option>
                                    </select>
                                </td>
                            <tr>
                                <td>Width:</td>
                                <td><input type="number" id="width" value="400" /></td>
                            </tr>
                            <tr>
                                <td>Height:</td>
                                <td><input type="number" id="height" value="400" /></td>
                            <tr>
                                <td>DPI:</td>
                                <td><input type="number" id="dpi" value="300" /></td>
                            </tr>
                        </table>
                    </div>
                    <button id="btn_change_canvas" title="Apply the changes of canvas.">Apply Changes</button>
                </div>


                <div class="tab_container" id="tab_ggplot">
                    <div class="et_options_h4">
                        <p> Add additional components to the original ggplot object `g`. </p>
                        <!--<textarea id="code" rows = "20"></textarea>-->
                        <div id="editor_code"></div>
                    </div>
                    <button id="btn_change_figure" title="Apply the changes of ggplot2 code">Apply Changes</button>
                </div>
                <div class="tab_container" id="tab_data">
                    <p>Dataset structure generated by `str(data)` in R:</p>
                    <div id="editor_data"></div>
                </div>
                <div id="error_window">
                    <p id="error_message"></p>
                </div>

            </div>

        </div>
        </div>
    </body>

    <script src="./js/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="./js/src-min-noconflict/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>
    <script src="./js/ace-configure.js" type="text/javascript" charset="utf-8"></script>

    <script src="./js/jquery-3.7.1.min.js"></script>
    <script src="./js/main.js"></script>
</html>
